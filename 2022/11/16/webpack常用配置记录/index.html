<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="referrer" content="origin">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>
        
            webpack常用配置记录
        
    </title>
    <link rel="shortcut icon" href="#"/>

    <link type="text/css" rel="stylesheet" href="/font/LongCang.css">
    <link type="text/css" rel="stylesheet" href="/font/Monda.css">
    <link type="text/css" rel="stylesheet" href="/font/NotoSansSC.css">
    <link type="text/css" rel="stylesheet" href="/font/NotoSerifSC.css">
    <link type="text/css" rel="stylesheet" href="/font/Playball.css">
    <link type="text/css" rel="stylesheet" href="/font/PTMono.css">
    <link type="text/css" rel="stylesheet" href="/font/Roboto.css">
    <link type="text/css" rel="stylesheet" href="/font/RobotoSlab.css">
    <link type="text/css" rel="stylesheet" href="/font/Rosario.css">
    <link type="text/css" rel="stylesheet" href="/font/UbuntuMono.css">

    <link type="text/css" rel="stylesheet" href="/css/base.css">
    <link type="text/css" rel="stylesheet" href="/css/code.css">

    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <a id="cover"></a>
    <link type="text/css" rel="stylesheet" href="/css/post.css">
<div id="header" class="header">
    <div class="vertical">
        <div class="inner">
            
                <h1 class="header-subtitle">webpack常用配置记录</h1>
                <div class="header-subinfo">
                    <p class="article-info-text">
                        <span>
                            <i class="iconfont icon-time"></i> 发表时间：2022-11-16
                        </span>
                        
                        <!-- <span>
                            <i class="iconfont icon-interactive"></i> 评论：<span class="valine-comment-count" data-xid="/2022/11/16/webpack常用配置记录/"></span>
                        </span>   -->
                    </p>
                    
                    
                        
                            <span class="tag-color">webpack</span>
                        
                    
                </div>
            
        </div>
    </div>
    
</div>
<div id="container">
    
        <!-- 文章页面 -->
        <div id="article">
            <div class="toc"></div>
            <div class="article-body">
                <h2 id="Webpack-配置"><a href="#Webpack-配置" class="headerlink" title="Webpack 配置"></a>Webpack 配置</h2><p>webpack 是需要传入一个配置对象(configuration object)。取决于你如何使用 webpack，可以通过两种方式之一：终端或 Node.js。下面指定了所有可用的配置选项。</p>
<blockquote>
<p><em>注意整个配置中我们使用 Node 内置的</em> <a target="_blank" rel="noopener" href="https://nodejs.org/api/path.html">path 模块</a><em>，并在它前面加上</em> <a target="_blank" rel="noopener" href="https://nodejs.org/docs/latest/api/globals.html#globals_dirname">__dirname</a><em>这个全局变量。可以防止不同操作系统之间的文件路径问题，并且可以使相对路径按照预期工作。</em></p>
</blockquote>
<h3 id="选项概述"><a href="#选项概述" class="headerlink" title="选项概述"></a>选项概述</h3><p>Web pack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 选择模式告诉 Webpack 相应地使用其内置的优化。</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>, <span class="comment">// &quot;production&quot; | &quot;development&quot; | &quot;none&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 这里应用程序开始执行 webpack 开始打包</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./app/entry&quot;</span>, <span class="comment">// string | object | array</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// webpack 如何输出结果的相关选项</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>), <span class="comment">// string</span></span><br><span class="line">    <span class="comment">// 所有输出文件的目标路径</span></span><br><span class="line">    <span class="comment">// 必须是绝对路径（使用 Node.js 的 path 模块）</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>, <span class="comment">// string    // 「入口分块(entry chunk)」的文件名模板（出口分块？）</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>, <span class="comment">// string    // 输出解析文件的目录，url 相对于 HTML 页面</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">library</span>: <span class="string">&quot;MyLibrary&quot;</span>, <span class="comment">// string,</span></span><br><span class="line">    <span class="comment">// 导出库(exported library)的名称</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">libraryTarget</span>: <span class="string">&quot;umd&quot;</span>, <span class="comment">// 通用模块定义    // 导出库(exported library)的类型</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="comment">// 关于模块配置</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// 模块规则（配置 loader、解析器等选项）</span></span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        <span class="attr">include</span>: [</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>)</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">exclude</span>: [</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app/demo-files&quot;</span>)</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// 这里是匹配条件，每个选项都接收一个正则表达式或字符串</span></span><br><span class="line">        <span class="comment">// test 和 include 具有相同的作用，都是必须匹配选项</span></span><br><span class="line">        <span class="comment">// exclude 是必不匹配选项（优先于 test 和 include）</span></span><br><span class="line">        <span class="comment">// 最佳实践：</span></span><br><span class="line">        <span class="comment">// - 只在 test 和 文件名匹配 中使用正则表达式</span></span><br><span class="line">        <span class="comment">// - 在 include 和 exclude 中使用绝对路径数组</span></span><br><span class="line">        <span class="comment">// - 尽量避免 exclude，更倾向于使用 include</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">issuer</span>: &#123; test, include, exclude &#125;,</span><br><span class="line">        <span class="comment">// issuer 条件（导入源）</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">enforce</span>: <span class="string">&quot;pre&quot;</span>,</span><br><span class="line">        <span class="attr">enforce</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">        <span class="comment">// 标识应用这些规则，即使规则覆盖（高级选项）</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">        <span class="comment">// 应该应用的 loader，它相对上下文解析</span></span><br><span class="line">        <span class="comment">// 为了更清晰，`-loader` 后缀在 webpack 2 中不再是可选的</span></span><br><span class="line">        <span class="comment">// 查看 webpack 1 升级指南。</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">presets</span>: [<span class="string">&quot;es2015&quot;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// loader 的可选项</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        <span class="attr">test</span>: <span class="string">&quot;\.html$&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// 应用多个 loader 和选项</span></span><br><span class="line">          <span class="string">&quot;htmllint-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;html-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="comment">/* ... */</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123; <span class="attr">oneOf</span>: [ <span class="comment">/* rules */</span> ] &#125;,</span><br><span class="line">      <span class="comment">// 只使用这些嵌套规则之一</span></span><br><span class="line"></span><br><span class="line">      &#123; <span class="attr">rules</span>: [ <span class="comment">/* rules */</span> ] &#125;,</span><br><span class="line">      <span class="comment">// 使用所有这些嵌套规则（合并可用条件）</span></span><br><span class="line"></span><br><span class="line">      &#123; <span class="attr">resource</span>: &#123; <span class="attr">and</span>: [ <span class="comment">/* 条件 */</span> ] &#125; &#125;,</span><br><span class="line">      <span class="comment">// 仅当所有条件都匹配时才匹配</span></span><br><span class="line"></span><br><span class="line">      &#123; <span class="attr">resource</span>: &#123; <span class="attr">or</span>: [ <span class="comment">/* 条件 */</span> ] &#125; &#125;,</span><br><span class="line">      &#123; <span class="attr">resource</span>: [ <span class="comment">/* 条件 */</span> ] &#125;,</span><br><span class="line">      <span class="comment">// 任意条件匹配时匹配（默认为数组）</span></span><br><span class="line"></span><br><span class="line">      &#123; <span class="attr">resource</span>: &#123; <span class="attr">not</span>: <span class="comment">/* 条件 */</span> &#125; &#125;</span><br><span class="line">      <span class="comment">// 条件不匹配时匹配</span></span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 高级模块配置（点击展示） */</span>  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="comment">// 解析模块请求的选项</span></span><br><span class="line">    <span class="comment">// （不适用于对 loader 解析）</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">modules</span>: [</span><br><span class="line">      <span class="string">&quot;node_modules&quot;</span>,</span><br><span class="line">      path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>)</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 用于查找模块的目录</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>, <span class="string">&quot;.json&quot;</span>, <span class="string">&quot;.jsx&quot;</span>, <span class="string">&quot;.css&quot;</span>],</span><br><span class="line">    <span class="comment">// 使用的扩展名</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="comment">// 模块别名列表</span></span><br><span class="line">      <span class="string">&quot;module&quot;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app/third/module.js&quot;</span>),</span><br><span class="line">      <span class="comment">// 起别名 &quot;module&quot; -&gt; &quot;./app/third/module.js&quot; 和 &quot;module/file&quot; 会导致错误</span></span><br><span class="line">      <span class="comment">// 模块别名相对于当前上下文导入</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">performance</span>: &#123;</span><br><span class="line">    <span class="attr">hints</span>: <span class="string">&quot;warning&quot;</span>, <span class="comment">// 枚举    maxAssetSize: 200000, // 整数类型（以字节为单位）</span></span><br><span class="line">    <span class="attr">maxEntrypointSize</span>: <span class="number">400000</span>, <span class="comment">// 整数类型（以字节为单位）</span></span><br><span class="line">    <span class="attr">assetFilter</span>: <span class="keyword">function</span>(<span class="params">assetFilename</span>) &#123;</span><br><span class="line">      <span class="comment">// 提供资源文件名的断言函数</span></span><br><span class="line">      <span class="keyword">return</span> assetFilename.<span class="title function_">endsWith</span>(<span class="string">&#x27;.css&#x27;</span>) || assetFilename.<span class="title function_">endsWith</span>(<span class="string">&#x27;.js&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>, <span class="comment">// enum  // 通过在浏览器调试工具(browser devtools)中添加元信息(meta info)增强调试</span></span><br><span class="line">  <span class="comment">// 牺牲了构建速度的 `source-map&#x27; 是最详细的。</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">context</span>: __dirname, <span class="comment">// string（绝对路径！）</span></span><br><span class="line">  <span class="comment">// webpack 的主目录</span></span><br><span class="line">  <span class="comment">// entry 和 module.rules.loader 选项</span></span><br><span class="line">  <span class="comment">// 相对于此目录解析</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">target</span>: <span class="string">&quot;web&quot;</span>, <span class="comment">// 枚举  // 包(bundle)应该运行的环境</span></span><br><span class="line">  <span class="comment">// 更改 块加载行为(chunk loading behavior) 和 可用模块(available module)</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">externals</span>: [<span class="string">&quot;react&quot;</span>, <span class="regexp">/^@angular\//</span>],  <span class="comment">// 不要遵循/打包这些模块，而是在运行时从环境中请求他们</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">stats</span>: <span class="string">&quot;errors-only&quot;</span>,  <span class="comment">// 精确控制要显示的 bundle 信息</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123; <span class="comment">// 代理 URL 到后端开发服务器</span></span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">contentBase</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;public&#x27;</span>), <span class="comment">// boolean | string | array, static file location</span></span><br><span class="line">    <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">// 启用 gzip 压缩</span></span><br><span class="line">    <span class="attr">historyApiFallback</span>: <span class="literal">true</span>, <span class="comment">// 404 时索引. html 为 true，多个路径的对象为 true</span></span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// 热模块替换。取决于热模块替换插件</span></span><br><span class="line">    <span class="attr">https</span>: <span class="literal">false</span>, <span class="comment">// 为true 证书颁发的对象</span></span><br><span class="line">    <span class="attr">noInfo</span>: <span class="literal">true</span>, <span class="comment">// 仅错误  热重新加载时警告</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// 插件</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 附加插件列表</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多种配置类型"><a href="#多种配置类型" class="headerlink" title="多种配置类型"></a>多种配置类型</h3><p>除了导出单个配置对象，还有一些方式满足其他需求。</p>
<ul>
<li><p>导出为一个函数</p>
<p>最终，你会发现需要在<a target="_blank" rel="noopener" href="https://www.webpackjs.com/guides/development">开发</a>和<a target="_blank" rel="noopener" href="https://www.webpackjs.com/guides/production">生产构建</a>之间，消除 <code>webpack.config.js</code> 的差异。（至少）有两种选项：</p>
<p>作为导出一个配置对象的替代，还有一种可选的导出方式是，从 webpack 配置文件中导出一个函数。该函数在调用时，可传入两个参数：</p>
<p>​ 环境对象(environment)作为第一个参数。一个选项 map 对象（<code>argv</code>）作为第二个参数。这个对象描述了传递给 webpack 的选项，并且具有 <a target="_blank" rel="noopener" href="https://www.webpackjs.com/api/cli/#output-options"><code>output-filename</code></a> 和 <a target="_blank" rel="noopener" href="https://www.webpackjs.com/api/cli/#optimize-options"><code>optimize-minimize</code></a> 等 key。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">env, argv</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">mode</span>: env.<span class="property">production</span> ? <span class="string">&quot;production&quot;</span> : <span class="string">&quot;development&quot;</span>,</span><br><span class="line">    <span class="attr">devtool</span>: env.<span class="property">production</span> ? <span class="string">&quot;source-maps&quot;</span> : <span class="string">&quot;eval&quot;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> webpack.<span class="property">optimize</span>.<span class="title class_">UglifyJsPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">compress</span>: argv[<span class="string">&quot;optimize-minimize&quot;</span>], <span class="comment">// 只有传入 -p 或 --optimize-minimize</span></span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出一个 Promise</p>
<p>webpack 将运行由配置文件导出的函数，并且等待 Promise 返回。便于需要异步地加载所需的配置变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(&#123;</span><br><span class="line">        <span class="attr">entry</span>: <span class="string">&quot;./app.js&quot;</span>,</span><br><span class="line">        <span class="comment">/* ... */</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;, <span class="number">5000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出多个配置对象</p>
<p>作为导出一个配置对象&#x2F;配置函数的替代，你可能需要导出多个配置对象（从 webpack 3.1.0 开始支持导出多个函数）。当运行 webpack 时，所有的配置对象都会构建。例如，导出多个配置对象，对于针对多个<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output#output-librarytarget">构建目标</a>（例如 AMD 和 CommonJS）<a target="_blank" rel="noopener" href="https://www.webpackjs.com/guides/author-libraries">打包一个 library</a> 非常有用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;./dist-amd.js&quot;</span>,</span><br><span class="line">      <span class="attr">libraryTarget</span>: <span class="string">&quot;amd&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./app.js&quot;</span>,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;./dist-commonjs.js&quot;</span>,</span><br><span class="line">      <span class="attr">libraryTarget</span>: <span class="string">&quot;commonjs&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./app.js&quot;</span>,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="入口和上下文"><a href="#入口和上下文" class="headerlink" title="入口和上下文"></a>入口和上下文</h3><p><code>string</code></p>
<p>entry 对象是用于 webpack 查找启动并构建 bundle。其上下文是入口文件所处的目录的绝对路径的字符串。</p>
<ul>
<li><p>context</p>
<p>基础目录，<strong>绝对路径</strong>，用于从配置中解析入口起点(entry point)和 loader</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认使用当前目录，但是推荐在配置中传递一个值。这使得你的配置独立于 CWD(current working directory - 当前执行路径)。 <strong>平时用不到</strong></p>
</blockquote>
</li>
<li><p>entry</p>
<p><code>string | [string] | object &#123; &lt;key&gt;: string | [string] &#125; | (function: () =&gt; string | [string] | object &#123; &lt;key&gt;: string | [string] &#125;)</code></p>
<p>起点或是应用程序的起点入口。从这个起点开始，应用程序启动执行。如果传递一个数组，那么数组的每一项都会执行。</p>
<p>动态加载的模块<strong>不是</strong>入口起点。</p>
<p>简单规则：每个 HTML 页面都有一个入口起点。单页应用(SPA)：一个入口起点，多页应用(MPA)：多个入口起点。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">entry</span>: &#123;</span><br><span class="line">  <span class="attr">home</span>: <span class="string">&quot;./home.js&quot;</span>,</span><br><span class="line">  <span class="attr">about</span>: <span class="string">&quot;./about.js&quot;</span>,</span><br><span class="line">  <span class="attr">contact</span>: <span class="string">&quot;./contact.js&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>命名</p>
<p>如果传入一个字符串或字符串数组，chunk 会被命名为 <code>main</code>。如果传入一个对象，则每个键(key)会是 chunk 的名称，该值描述了 chunk 的入口起点。</p>
</li>
<li><p>动态入口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">entry</span>: <span class="function">() =&gt;</span> <span class="string">&quot;./demo&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">entry</span>: <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="title function_">resolve</span>([<span class="string">&quot;./demo&quot;</span>, <span class="string">&quot;./demo2&quot;</span>]));</span><br></pre></td></tr></table></figure>

<p>当结合 <a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output#output-library"><code>output.library</code></a> 选项时：如果传入数组，则只导出最后一项。</p>
</li>
</ul>
<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><p><code>output</code> 位于对象最顶级键(key)，包括了一组选项，指示 webpack 如何去输出、以及在哪里输出你的 「bundle、asset 和其他你所打包或使用 webpack 载入的任何内容」。</p>
<h4 id="output-filename"><a href="#output-filename" class="headerlink" title="output.filename"></a><code>output.filename</code></h4><p><code>string</code> <code>function</code></p>
<p>此选项决定了每个输出 bundle 的名称。这些 bundle 将写入到 <a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output/#output-path"><code>output.path</code></a> 选项指定的目录下。</p>
<p>对于单个<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/entry-context#entry"><code>入口</code></a>起点，filename 会是一个静态名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>然而，当通过多个入口起点(entry point)、代码拆分(code splitting)或各种插件(plugin)创建多个 bundle，应该使用以下一种替换方式，来赋予每个 bundle 一个唯一的名称……</p>
<p>使用入口名称：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[name].bundle.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>使用内部 chunk id</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[id].bundle.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>使用每次构建过程中，唯一的 hash 生成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[name].[hash].bundle.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>使用基于每个 chunk 内容的 hash：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[chunkhash].bundle.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>注意此选项被称为文件名，但是你还是可以使用像 <code>&quot;js/[name]/bundle.js&quot;</code> 这样的文件夹结构。</p>
<p>注意，此选项不会影响那些「按需加载 chunk」的输出文件。对于这些文件，请使用 <a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output/#output-chunkfilename"><code>output.chunkFilename</code></a> 选项来控制输出。通过 loader 创建的文件也不受影响。在这种情况下，你必须尝试 loader 特定的可用选项。</p>
<p>可以使用以下替换模板字符串（通过 webpack 内部的[<code>TemplatedPathPlugin</code>]<a target="_blank" rel="noopener" href="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js"><code>templatedpathplugin</code></a>）：</p>
<table>
<thead>
<tr>
<th>模板</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>[hash]</td>
<td>模块标识符的 hash</td>
</tr>
<tr>
<td>[chunkhash]</td>
<td>chunk 内容的 hash</td>
</tr>
<tr>
<td>[name]</td>
<td>模块名称</td>
</tr>
<tr>
<td>[id]</td>
<td>模块标识符</td>
</tr>
<tr>
<td>[query]</td>
<td>模块的 query,例如,文件名<code>?</code>后面的字符串</td>
</tr>
</tbody></table>
<p><code>[hash]</code> 和 <code>[chunkhash]</code> 的长度可以使用 <code>[hash:16]</code>（默认为 20）来指定。或者，通过指定<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output/#output-hashdigestlength"><code>output.hashDigestLength</code></a> 在全局配置长度。</p>
<h4 id="output-path"><a href="#output-path" class="headerlink" title="output.path"></a><code>output.path</code></h4><p><code>string</code></p>
<p>output 目录对应一个绝对路径</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">path</span>: path.<span class="title function_">reslove</span>(__dirname, <span class="string">&quot;dist/assets&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>注意，<code>[hash]</code> 在参数中被替换为编译过程(compilation)的 hash。</p>
<h4 id="output-publicPath"><a href="#output-publicPath" class="headerlink" title="output.publicPath"></a><code>output.publicPath</code></h4><p><code>string</code> <code>function</code></p>
<p>对于按需加载(on-demand-load)或加载外部资源(external resources)（如图片、文件等）来说，output.publicPath 是很重要的选项。如果指定了一个错误的值，则在加载这些资源时会收到 404 错误。</p>
<p>此选项指定在浏览器中所引用的「此输出目录对应的<strong>公开 URL</strong>」。相对 URL(relative URL) 会被相对于 HTML 页面（或 &#96;&#96; 标签）解析。相对于服务的 URL(Server-relative URL)，相对于协议的 URL(protocol-relative URL) 或绝对 URL(absolute URL) 也可是可能用到的，或者有时必须用到，例如：当将资源托管到 CDN 时。</p>
<p>该选项的值是以 runtime(运行时) 或 loader(载入时) 所创建的每个 URL 为前缀。因此，在多数情况下，<strong>此选项的值都会以<code>/</code>结束</strong>。</p>
<p>默认值是一个空字符串 <code>&quot;&quot;</code>。</p>
<p>简单规则如下：<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/output/#output-path"><code>output.path</code></a> 中的 URL 以 HTML 页面为基准。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;public/assets&quot;</span>),</span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;https://cdn.example.com/assets/&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h3><p>由于版本 4 Webpack 会根据所选模式运行优化，因此所有优化仍可用于手动配置和覆盖。</p>
<h4 id="optimization-minimize"><a href="#optimization-minimize" class="headerlink" title="optimization.minimize"></a><code>optimization.minimize</code></h4><p><code>boolean = true</code></p>
<p>告诉 Webpack 使用 TerserPlugin 或优化中指定的插件最小化捆绑包。</p>
<p>Webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="optimization-minimizer"><a href="#optimization-minimizer" class="headerlink" title="optimization.minimizer"></a><code>optimization.minimizer</code></h4><p><code>[TerserPlugin]</code>或者<code>[function (compiler)]</code></p>
<p>允许您通过提供不同的一个或多个自定义 TerserPlugin 实例来覆盖默认最小化器。</p>
<p>Webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;terser-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">cache</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">parallel</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">sourceMap</span>: <span class="literal">true</span>, <span class="comment">// 如果在生产中使用源映射，则必须设置为 true</span></span><br><span class="line">        <span class="attr">terserOptions</span>: &#123;</span><br><span class="line">          <span class="comment">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>或者传入函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="function">(<span class="params">compiler</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;terser-webpack-plugin&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;</span><br><span class="line">          <span class="comment">/* your config */</span></span><br><span class="line">        &#125;).<span class="title function_">apply</span>(compiler);</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>‘…’可用于优化. 最小化器访问默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [<span class="keyword">new</span> <span class="title class_">CssMinimizer</span>(), <span class="string">&quot;...&quot;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="optimization-splitChunks"><a href="#optimization-splitChunks" class="headerlink" title="optimization.splitChunks"></a><code>optimization.splitChunks</code></h4><p><code>object</code></p>
<p>默认情况下，Webpack v4+ 为动态导入的模块提供了开箱即用的新的常见区块策略。请参阅在 SplitChunksPlugin 页中配置此行为的可用选项。</p>
<p>Webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="comment">//这指示将选择哪些区块进行优化。提供字符串时，有效值为all、async和initial。</span></span><br><span class="line">      <span class="comment">//提供所有块可能特别强大，因为这意味着块即使在异步块和非异步块之间也可以共享。</span></span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&quot;async&quot;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">20000</span>, <span class="comment">//要生成区块的最小大小（以字节为单位）</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//拆分Chunks.minRemainsize 选项在webpack 5中引入，</span></span><br><span class="line">      <span class="comment">//通过确保拆分后保留的区块的最小大小超过限制来避免零大小的模块。</span></span><br><span class="line">      <span class="comment">//在&quot;开发&quot;模式下默认为 0。</span></span><br><span class="line">      <span class="comment">//对于其他情况，拆分为&quot;拆分&quot;.minRemainsize 默认为 splitChunks.minSize 的值，</span></span><br><span class="line">      <span class="comment">//因此不需要手动指定，但需要深度控制的极少数情况除外</span></span><br><span class="line">      <span class="attr">minRemainingSize</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">//使用 maxSize告诉 Webpack 尝试将大于 maxSize 字节的区块拆分为较小的部分。</span></span><br><span class="line">      <span class="comment">//零件的大小至少为最小尺寸（最大尺寸旁边）。</span></span><br><span class="line">      <span class="comment">//maxSize 选项用于 HTTP/2 和长期缓存。它增加了请求计数，以便更好地缓存。</span></span><br><span class="line">      <span class="comment">//它还可用于减小文件大小，以便更快地重建。</span></span><br><span class="line">      <span class="attr">maxSize</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">      <span class="attr">minChunks</span>: <span class="number">1</span>, <span class="comment">//拆分前必须共享模块的最小区块数。</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="number">30</span>, <span class="comment">//按需加载时并行请求的最大数量。</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="number">30</span>, <span class="comment">//入口点上并行请求的最大数。</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//默认情况下，Webpack 将使用区块的源和名称（例如供应商main.js）生成名称。</span></span><br><span class="line">      <span class="comment">//此选项允许您指定用于生成名称的分隔符。</span></span><br><span class="line">      <span class="attr">automaticNameDelimiter</span>: <span class="string">&quot;~&quot;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">//强制执行拆分的大小阈值和其他限制（最小保持大小、最大同步请求、最大初始请求）将被忽略</span></span><br><span class="line">      <span class="attr">enforceSizeThreshold</span>: <span class="number">50000</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">//缓存组可以继承和/或覆盖拆分Chunks中的任何选项。</span></span><br><span class="line">      <span class="comment">//但测试、优先级和重用只可以在缓存组级别进行配置。若要禁用任何默认缓存组，请将它们设置为 false。</span></span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">        <span class="attr">defaultVendors</span>: &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">10</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">default</span>: &#123;</span><br><span class="line">          <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line"></span><br><span class="line">          <span class="comment">//一个模块可以属于多个缓存组。优化将更喜欢具有更高优先级的缓存组。</span></span><br><span class="line">          <span class="comment">//默认组具有负优先级，允许自定义组具有更高的优先级（自定义组默认值为 0）。</span></span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">20</span>,</span><br><span class="line"></span><br><span class="line">          <span class="comment">//如果当前区块包含已经从主捆绑包中分离出的模块，则将重用该区块，</span></span><br><span class="line">          <span class="comment">//而不是生成新的区块。这可能会影响区块的结果文件名。</span></span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="开发中-devServer"><a href="#开发中-devServer" class="headerlink" title="开发中(devServer)"></a>开发中(devServer)</h3><p><code>object</code></p>
<p>通过来自 <a target="_blank" rel="noopener" href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> 的这些选项，能够用多种方式改变其行为。这里有一个简单的例子，所有来自 <code>dist/</code> 目录的文件都做 gzip 压缩和提供为服务：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">  <span class="attr">contentBase</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">  <span class="attr">compress</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">port</span>: <span class="number">9000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过 Node.js API 来使用 dev-server， <code>devServer</code> 中的选项将被忽略。将选项作为第二个参数传入： <code>new WebpackDevServer(compiler, &#123;...&#125;)</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Webpack</span> = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">WebpackDevServer</span> = <span class="built_in">require</span>(<span class="string">&quot;../../../lib/Server&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> webpackConfig = <span class="built_in">require</span>(<span class="string">&quot;./webpack.config&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compiler = <span class="title class_">Webpack</span>(webpackConfig);</span><br><span class="line"><span class="keyword">const</span> devServerOptions = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, webpackConfig.<span class="property">devServer</span>, &#123;</span><br><span class="line">  <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">stats</span>: &#123;</span><br><span class="line">    <span class="attr">colors</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> server = <span class="keyword">new</span> <span class="title class_">WebpackDevServer</span>(compiler, devServerOptions);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Starting server on http://localhost:8080&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="devServer-after"><a href="#devServer-after" class="headerlink" title="devServer.after"></a><code>devServer.after</code></h4><p><code>function</code></p>
<p>提供在服务器内部所有其他中间件之后执行自定义中间件的能力。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">after</span>(<span class="params">app</span>)&#123;</span><br><span class="line">  <span class="comment">// do fancy stuff</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-allowedHosts"><a href="#devServer-allowedHosts" class="headerlink" title="devServer.allowedHosts"></a><code>devServer.allowedHosts</code></h4><p><code>array</code></p>
<p>此选项允许您将允许访问开发服务器的服务列入白名单。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">allowedHosts</span>: [<span class="string">&quot;host.com&quot;</span>, <span class="string">&quot;subdomain.host.com&quot;</span>, <span class="string">&quot;subdomain2.host.com&quot;</span>, <span class="string">&quot;host2.com&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>模仿 django 的<code>ALLOWED_HOSTS</code>，一个以<code>.</code>开头的值。可用作子域通配符。.host.com 将匹配<code>host.com </code> <code>www.host.com</code>和任何其他子域<code>host.com</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这达到相同的效果，因为第一个示例</span></span><br><span class="line"><span class="comment">// 不必更新您的配置</span></span><br><span class="line"><span class="comment">// 如果新的子域需要访问开发服务器</span></span><br><span class="line"><span class="attr">allowedHosts</span>: [<span class="string">&quot;.host.com&quot;</span>, <span class="string">&quot;host2.com&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>若要在 CLI 中使用此选项，请传递 –允许的主机选项逗号分隔字符串。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server --entry /entry/file --output-path /output/path --allowed-hosts .host.com,host2.com</span><br></pre></td></tr></table></figure>

<h4 id="devServer-before"><a href="#devServer-before" class="headerlink" title="devServer.before"></a><code>devServer.before</code></h4><p><code>function</code></p>
<p>提供在服务器内部执行所有其他中间件之前执行自定义中间件的能力。这可用于定义自定义处理程序，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">before</span>(<span class="params">app</span>)&#123;</span><br><span class="line">  app.<span class="title function_">get</span>(<span class="string">&#x27;/some/path&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">json</span>(&#123; <span class="attr">custom</span>: <span class="string">&#x27;response&#x27;</span> &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-bonjour"><a href="#devServer-bonjour" class="headerlink" title="devServer.bonjour"></a><code>devServer.bonjour</code></h4><p>此选项在启动时通过 ZeroConf 网络广播服务器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bonjour</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-clientLogLevel"><a href="#devServer-clientLogLevel" class="headerlink" title="devServer.clientLogLevel"></a><code>devServer.clientLogLevel</code></h4><p><code>string</code></p>
<blockquote>
<p>控制消息显示</p>
</blockquote>
<p>当使用*内联模式(inline mode)*时，在开发工具(DevTools)的控制台(console)将显示消息，如：在重新加载之前，在一个错误之前，或者模块热替换(Hot Module Replacement)启用时。这可能显得很繁琐。</p>
<p>你可以阻止所有这些消息显示，使用这个选项：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">clientLogLevel</span>: <span class="string">&quot;none&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>可能的值有 <code>none</code>, <code>error</code>, <code>warning</code> 或者 <code>info</code>（默认值）。</p>
<h4 id="devServer-color-Cli-only"><a href="#devServer-color-Cli-only" class="headerlink" title="devServer.color - Cli only"></a><code>devServer.color</code> - Cli only</h4><p><code>boolean</code></p>
<p>启用&#x2F;禁用控制台上的颜色。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server --color</span><br></pre></td></tr></table></figure>

<h4 id="devServer-compress"><a href="#devServer-compress" class="headerlink" title="devServer.compress"></a><code>devServer.compress</code></h4><p><code>boolean</code></p>
<p>启用 gzip 压缩</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">compress</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-contentBase"><a href="#devServer-contentBase" class="headerlink" title="devServer.contentBase"></a><code>devServer.contentBase</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boolean` `string` `array</span><br></pre></td></tr></table></figure>

<p>告诉服务器从哪里提供内容。只有在你想要提供静态文件时才需要。<a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/dev-server/#devserver-publicpath-"><code>devServer.publicPath</code></a> 将用于确定应该从哪里提供 bundle，并且此选项优先。</p>
<p>默认情况下，将使用当前工作目录作为提供内容的目录，但是你可以修改为其他目录：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">contentBase</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;public&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>注意，推荐使用绝对路径。</p>
<p>但是也可以从多个目录提供内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">contentBase</span>: [path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;public&quot;</span>), path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;assets&quot;</span>)];</span><br></pre></td></tr></table></figure>

<p>禁用 <code>contentBase</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">contentBase</span>: <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-filename"><a href="#devServer-filename" class="headerlink" title="devServer.filename"></a><code>devServer.filename</code></h4><p><code>string</code></p>
<p>在<strong>惰性模式</strong>中，此选项可减少编译。 默认在<strong>惰性模式</strong>，每个请求结果都会产生全新的编译。使用 <code>filename</code>，可以只在某个文件被请求时编译。</p>
<p>如果 <code>output.filename</code> 设置为 <code>bundle.js</code> ，<code>filename</code> 使用如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazy</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span></span><br></pre></td></tr></table></figure>

<p>现在只有在请求 <code>/bundle.js</code> 时候，才会编译 bundle。</p>
<blockquote>
<p><code>filename</code> *在不使用**<em>惰性加载</em>**时没有效果。</p>
</blockquote>
<h4 id="devServer-headers"><a href="#devServer-headers" class="headerlink" title="devServer.headers"></a><code>devServer.headers</code></h4><p><code>object</code></p>
<p>在所有响应中添加首部内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">headers</span>: &#123;</span><br><span class="line">  <span class="string">&quot;X-Custom-Foo&quot;</span>: <span class="string">&quot;bar&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-historyApiFallback"><a href="#devServer-historyApiFallback" class="headerlink" title="devServer.historyApiFallback"></a><code>devServer.historyApiFallback</code></h4><p><code>boolean</code> <code>object</code></p>
<p>当使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/History">HTML5 History API</a> 时，任意的 <code>404</code> 响应都可能需要被替代为 <code>index.html</code>。通过传入以下启用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">historyApiFallback</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>通过传入一个对象，比如使用 <code>rewrites</code> 这个选项，此行为可进一步地控制：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">historyApiFallback</span>: &#123;</span><br><span class="line">  <span class="attr">rewrites</span>: [</span><br><span class="line">    &#123; <span class="attr">from</span>: <span class="regexp">/^\/$/</span>, <span class="attr">to</span>: <span class="string">&quot;/views/landing.html&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">from</span>: <span class="regexp">/^\/subpage/</span>, <span class="attr">to</span>: <span class="string">&quot;/views/subpage.html&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">from</span>: <span class="regexp">/./</span>, <span class="attr">to</span>: <span class="string">&quot;/views/404.html&quot;</span> &#125;,</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当路径中使用点(dot)（常见于 Angular），你可能需要使用 <code>disableDotRule</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">historyApiFallback</span>: &#123;</span><br><span class="line">  <span class="attr">disableDotRule</span>: <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-host"><a href="#devServer-host" class="headerlink" title="devServer.host"></a><code>devServer.host</code></h4><p><code>string</code></p>
<p>指定使用一个 host。默认是 <code>localhost</code>。如果你希望服务器外部可访问，指定如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">host</span>: <span class="string">&quot;0.0.0.0&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-hot"><a href="#devServer-hot" class="headerlink" title="devServer.hot"></a><code>devServer.hot</code></h4><p><code>boolean</code></p>
<p>启用 webpack 的模块热替换特性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hot</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>请注意，Webpack。需要热模块更换模块才能完全启用 HMR。如果使用 –hot 选项启动 Webpack 或 Webpack-dev-server，则会自动添加此插件，因此您可能不需要将其添加到 Webpack.config.js 中。有关详细信息，请参阅 HMR 概念页面。</p>
</blockquote>
<h4 id="devServer-hotOnly"><a href="#devServer-hotOnly" class="headerlink" title="devServer.hotOnly"></a><code>devServer.hotOnly</code></h4><p><code>boolean</code></p>
<p>启用热模块替换（请参阅 devServer.hot），在生成失败时不刷新页面作为回退。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hotOnly</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-https"><a href="#devServer-https" class="headerlink" title="devServer.https"></a><code>devServer.https</code></h4><p><code>boolean</code> <code>object</code></p>
<p>默认情况下，dev-server 通过 HTTP 提供服务。也可以选择带有 HTTPS 的 HTTP&#x2F;2 提供服务：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>以上设置使用了自签名证书，但是你可以提供自己的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>: &#123;</span><br><span class="line">  <span class="attr">key</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&quot;/path/to/server.key&quot;</span>),</span><br><span class="line">  <span class="attr">cert</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&quot;/path/to/server.crt&quot;</span>),</span><br><span class="line">  <span class="attr">ca</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&quot;/path/to/ca.pem&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此对象直接传递到 Node.js HTTPS 模块，所以更多信息请查看 <a target="_blank" rel="noopener" href="https://nodejs.org/api/https.html">HTTPS 文档</a>。</p>
<h4 id="devServer-index"><a href="#devServer-index" class="headerlink" title="devServer.index"></a><code>devServer.index</code></h4><p><code>string</code></p>
<p>被视为索引文件的文件名。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index</span>: <span class="string">&quot;index.htm&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-info-CLI-only"><a href="#devServer-info-CLI-only" class="headerlink" title="devServer.info - CLI only"></a><code>devServer.info</code> - CLI only</h4><p><code>boolean</code></p>
<p>输出 cli 信息。默认情况下，它处于启用状态。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server --info=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h4 id="devServer-inline"><a href="#devServer-inline" class="headerlink" title="devServer.inline"></a><code>devServer.inline</code></h4><p><code>boolean</code></p>
<p>在 dev-server 的两种不同模式之间切换。默认情况下，应用程序启用*内联模式(inline mode)*。这意味着一段处理实时重载的脚本被插入到你的包(bundle)中，并且构建消息将会出现在浏览器控制台。</p>
<p>也可以使用 <strong>iframe 模式</strong>，它在通知栏下面使用 &#96;&#96; 标签，包含了关于构建的消息。切换到 <strong>iframe 模式</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inline</span>: <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><em>推荐使用模块热替换的内联模式，因为它包含来自 websocket 的 HMR 触发器。轮询模式可以作为替代方案，但需要一个额外的入口点：</em><code>&#39;webpack/hot/poll?1000&#39;</code>。</p>
</blockquote>
<h4 id="devServer-lazy"><a href="#devServer-lazy" class="headerlink" title="devServer.lazy"></a><code>devServer.lazy</code></h4><p><code>boolean</code></p>
<p>当启用 <code>lazy</code> 时，dev-server 只有在请求时才编译包(bundle)。这意味着 webpack 不会监视任何文件改动。我们称之为“<strong>惰性模式</strong>”。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazy</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>watchOptions</code> *在使用<strong>*惰性模式</strong>时无效。</p>
<p>*如果使用命令行工具(CLI)，请确保***内联模式(inline mode)**被禁用。</p>
</blockquote>
<h4 id="devServer-noInfo"><a href="#devServer-noInfo" class="headerlink" title="devServer.noInfo"></a><code>devServer.noInfo</code></h4><p><code>boolean</code></p>
<p>启用 <code>noInfo</code> 后，诸如「启动时和每次保存之后，那些显示的 webpack 包(bundle)信息」的消息将被隐藏。错误和警告仍然会显示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">noInfo</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-open"><a href="#devServer-open" class="headerlink" title="devServer.open"></a><code>devServer.open</code></h4><p><code>boolean</code></p>
<p>启用”open”后，开发服务器将打开浏览器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">open</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-openPage"><a href="#devServer-openPage" class="headerlink" title="devServer.openPage"></a><code>devServer.openPage</code></h4><p><code>string</code></p>
<p>指定打开浏览器时要导航到的页面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">openPage</span>: <span class="string">&quot;/different/page&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-overlay"><a href="#devServer-overlay" class="headerlink" title="devServer.overlay"></a><code>devServer.overlay</code></h4><p><code>boolean</code> <code>object</code></p>
<p>当存在编译器错误或警告时，在浏览器中显示全屏叠加。默认情况下禁用。如果只想显示编译器错误：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">overlay</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>如果你想既显示错误也显示警告</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">overlay</span>: &#123;</span><br><span class="line">  <span class="attr">warnings</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">errors</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-port"><a href="#devServer-port" class="headerlink" title="devServer.port"></a><code>devServer.port</code></h4><p><code>number</code></p>
<p>指定要监听请求的端口号:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">port</span>: <span class="number">8080</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-proxy"><a href="#devServer-proxy" class="headerlink" title="devServer.proxy"></a><code>devServer.proxy</code></h4><p><code>object</code></p>
<p>代理服务器</p>
<p>如果你有单独的后端开发服务器 API，并且希望在同域名下发送 API 请求 ，那么代理某些 URL 会很有用。</p>
<p>dev-server 使用了非常强大的 <a target="_blank" rel="noopener" href="https://github.com/chimurai/http-proxy-middleware">http-proxy-middleware</a> 包。更多高级用法，请查阅其<a target="_blank" rel="noopener" href="https://github.com/chimurai/http-proxy-middleware#options">文档</a>。</p>
<p>在 <code>localhost:3000</code> 上有后端服务的话，你可以这样启用代理：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>: &#123;</span><br><span class="line">  <span class="string">&quot;/api&quot;</span>: <span class="string">&quot;http://localhost:3000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请求到 <code>/api/users</code> 现在会被代理到请求 <code>http://localhost:3000/api/users</code>。</p>
<p>如果你不想始终传递 <code>/api</code> ，则需要重写路径：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>: &#123;</span><br><span class="line">  <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&quot;http://localhost:3000&quot;</span>,</span><br><span class="line">    <span class="attr">pathRewrite</span>: &#123;<span class="string">&quot;^/api&quot;</span> : <span class="string">&quot;&quot;</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>默认情况下，不接受运行在 HTTPS 上，且使用了无效证书的后端服务器。如果你想要接受，修改配置如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>: &#123;</span><br><span class="line">  <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&quot;https://other-server.example.com&quot;</span>,</span><br><span class="line">    <span class="attr">secure</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有时你不想代理所有的请求。可以基于一个函数的返回值绕过代理。</p>
<p>在函数中你可以访问请求体、响应体和代理选项。必须返回 <code>false</code> 或路径，来跳过代理请求。</p>
<p>例如：对于浏览器请求，你想要提供一个 HTML 页面，但是对于 API 请求则保持代理。你可以这样做：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>: &#123;</span><br><span class="line">  <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&quot;http://localhost:3000&quot;</span>,</span><br><span class="line">    <span class="attr">bypass</span>: <span class="keyword">function</span>(<span class="params">req, res, proxyOptions</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (req.<span class="property">headers</span>.<span class="property">accept</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;html&quot;</span>) !== -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Skipping proxy for browser request.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index.html&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果要将多个特定路径代理到同一目标，可以使用具有上下文属性的一个或多个对象的数组：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">proxy</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">context</span>: [<span class="string">&quot;/auth&quot;</span>, <span class="string">&quot;/api&quot;</span>],</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&quot;http://localhost:3000&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h4 id="devServer-progress-Cli-only"><a href="#devServer-progress-Cli-only" class="headerlink" title="devServer.progress - Cli only"></a><code>devServer.progress</code> - Cli only</h4><p><code>boolean</code></p>
<p>将运行进度输出到控制台。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server --progress</span><br></pre></td></tr></table></figure>

<h4 id="devServer-public"><a href="#devServer-public" class="headerlink" title="devServer.public"></a><code>devServer.public</code></h4><p><code>string</code></p>
<p>当使用*内联模式(inline mode)*并代理 dev-server 时，内联的客户端脚本并不总是知道要连接到什么地方。它会尝试根据 <code>window.location</code> 来猜测服务器的 URL，但是如果失败，你需要这样。</p>
<p>例如，dev-server 被代理到 nginx，并且在 <code>myapp.test</code> 上可用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span>: <span class="string">&quot;myapp.test:80&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-publicPath"><a href="#devServer-publicPath" class="headerlink" title="devServer.publicPath"></a><code>devServer.publicPath</code></h4><p><code>string</code></p>
<p>此路径下的打包文件可在浏览器中访问。</p>
<p>假设服务器运行在 <code>http://localhost:8080</code> 并且 <code>output.filename</code> 被设置为 <code>bundle.js</code>。默认 <code>publicPath</code> 是 <code>&quot;/&quot;</code>，所以你的包(bundle)可以通过 <code>http://localhost:8080/bundle.js</code> 访问。</p>
<p>可以修改 <code>publicPath</code>，将 bundle 放在一个目录：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>你的包现在可以通过 <code>http://localhost:8080/assets/bundle.js</code> 访问。</p>
<blockquote>
<p><em>确保</em> <code>publicPath</code> <em>总是以斜杠(&#x2F;)开头和结尾。</em></p>
</blockquote>
<p>也可以使用一个完整的 URL。这是模块热替换所必需的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;http://localhost:8080/assets/&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>bundle 可以通过 <code>http://localhost:8080/assets/bundle.js</code> 访问。</p>
<blockquote>
<p><code>devServer.publicPath</code> <em>和</em> <code>output.publicPath</code> <em>一样被推荐。</em></p>
</blockquote>
<h4 id="devServer-quiet"><a href="#devServer-quiet" class="headerlink" title="devServer.quiet"></a><code>devServer.quiet</code></h4><p><code>boolean</code></p>
<p>启用 <code>quiet</code> 后，除了初始启动信息之外的任何内容都不会被打印到控制台。这也意味着来自 webpack 的错误或警告在控制台不可见。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">quiet</span>: <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-socket"><a href="#devServer-socket" class="headerlink" title="devServer.socket"></a><code>devServer.socket</code></h4><p><code>string</code></p>
<p>要侦听的 Unix 套接字（而不是主机）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">socket</span>: <span class="string">&quot;socket&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-staticOptions"><a href="#devServer-staticOptions" class="headerlink" title="devServer.staticOptions"></a><code>devServer.staticOptions</code></h4><p>可以配置高级选项，用于从内容库提供静态文件。有关可能的选项，请参阅快速文档。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">staticOptions</span>: &#123;</span><br><span class="line">  <span class="attr">redirect</span>: <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="devServer-stats"><a href="#devServer-stats" class="headerlink" title="devServer.stats"></a><code>devServer.stats</code></h4><p>此选项允许您精确控制显示的捆绑信息。如果您想要一些捆绑信息，但并不是所有的，这可能是一个不错的中间地带。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stats</span>: <span class="string">&quot;errors-only&quot;</span>;</span><br></pre></td></tr></table></figure>

                
                <p class="end">__END__</p>
            </div>
            <div class="article-footer">
                <div class="suffix-box">
    <div class="suffix-box-left">
        <img src="/image/sidebar/avatar.jpg" alt="EXCLISON">
    </div>
    <div class="suffix-box-right">
        <span class="suffix-box-title">文章作者：</span>EXCLISON
        <br>
        <span class="suffix-box-title">文章出处：</span><a href="/2022/11/16/webpack%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/" target="_blank">webpack常用配置记录</a>
        <br>
        <span class="suffix-box-title">作者签名：</span>简单地活着, 肆意又精彩.
        <br>
        <span class="suffix-box-title">关于主题：</span><a href="https://github.com/first19326/Hexo-LiveForCode" target="_blank">Hexo - Live For Code</a>
        <br>
        <span class="suffix-box-title">版权声明：</span>文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" title="BY-NC-SA" target="_blank">BY-NC-SA</a> 许可协议，转载请注明出处
        <br>
    </div>
    <div style="clear: both;"></div>
</div>
                
                
                    <div class="tag">
                        标签：
                        
                            <a href="/tag/webpack/">webpack</a>
                        
                    </div>
                
                <div class="article-prev-next">
                    
                        <a href="/2022/11/16/%E4%BD%BF%E7%94%A8xlsxjs%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0%E8%A1%A8%E6%A0%BC%E5%B9%B6%E8%A7%A3%E6%9E%90%E6%95%B0%E6%8D%AE/" class="prev-prefix">« </a> 上一篇：    <a href="/2022/11/16/%E4%BD%BF%E7%94%A8xlsxjs%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0%E8%A1%A8%E6%A0%BC%E5%B9%B6%E8%A7%A3%E6%9E%90%E6%95%B0%E6%8D%AE/" title="发布于 2022-11-16 05:09">使用xlsxjs实现上传表格并解析数据</a>
                        <br>
                    
                    
                        <a href="/2022/11/16/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E4%BD%BF%E7%94%A8webpack-vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%E5%92%8C%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8F%92%E4%BB%B6/" class="next-prefix">» </a> 下一篇：    <a href="/2022/11/16/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E4%BD%BF%E7%94%A8webpack-vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%E5%92%8C%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8F%92%E4%BB%B6/" title="发布于 2022-11-16 05:05">记录一下使用webpack+vue创建项目流程和常用的插件</a>
                    
                </div>
            </div>
            <!-- 
    <div class="article-comments">
        
            <div class="comments-title">
                评论列表
            </div>
        
        <div class="comments-content"></div>
    </div>
 -->
        </div>
    
</div>
    <div id="footer"></div>
    <div id="sidebar">
    <div class="menu-wrap" style="display:none;">
        
            <div class="menu-notice">
                <span class="iconfont icon-notice"></span>
                <div class="notice">
                    <span>简单地活着，肆意而又精彩！</span>
                </div>
            </div>
        
        <nav class="menu">
            <div class="menu-introduce"> 
                <div class="introduce-avatar">
                    <img src="/image/sidebar/avatar.jpg">
                </div> 
                <div class="introduce-info"> 
                    <div class="introduce-user"><span>EXCLISON</span></div>
                </div> 
            </div> 
            <div class="menu-list">
                <ul>
                    
                        <li class=""><a href="/" class="" target="_self"><span class="iconfont icon-home-fill"></span>首页</a></li>
                    
                        <li class=""><a href="/category" class="" target="_self"><span class="iconfont icon-folder-fill"></span>分类</a></li>
                    
                        <li class=""><a href="/tag" class="" target="_self"><span class="iconfont icon-discount-fill"></span>标签</a></li>
                    
                        <li class=""><a href="/archive" class="" target="_self"><span class="iconfont icon-calendar-fill"></span>归档</a></li>
                    
                        <li class=""><a href="/about" class="" target="_self"><span class="iconfont icon-about-fill"></span>关于</a></li>
                    
                        <li class=""><a href="/friend" class="" target="_self"><span class="iconfont icon-link"></span>友情链接</a></li>
                    
                </ul> 
            </div> 
            <div class="menu-link">
                <div class="box">
                    <div class="image-box"></div>
                </div>
                
                    <a name="GitHub" href="https://github.com/exclison" class="" target="_blank" data=""><span class="iconfont icon-github"></span></a>
                
            </div> 
        </nav>
        <button class="menu-button-close"></button>
        <div class="morph-shape" id="morph-shape" data-morph-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
                <path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
            </svg>
        </div>
    </div>
    <button class="menu-button-open">MENU</button>
    <div class="menu-cover"></div>
</div>
    <link type="text/css" rel="stylesheet" href="/css/search.css">
<script type="text/javascript" src="/js/iscroll.js"></script>
<script type="text/javascript" src="/js/instantsearch.min.js"></script>
<div class="search-window">
    <div class="search-content">
        <div class="search-content-icon">
            <i class="iconfont icon-search"></i>
        </div>
        <div id="search-input" class="search-input"></div>
    </div>

    <div class="search-scroll">
        <div class="search-result">
            <div id="search-stats" class="search-stats"></div>
            <div id="search-hits"></div>
            <div id="search-pagination" class="search-pagination"></div>
        </div>
    </div>

    <span class="search-close-icon">
        <i class="iconfont icon-close"></i>
    </span>
</div>
    <div id="tools">
    <div class="progressbar-top"></div>

    
        <link type="text/css" rel="stylesheet" href="/css/APlayer.css">
        <script type="text/javascript" src="/js/APlayer.min.js"></script>
        <script type="text/javascript" src="/js/Meting.min.js"></script>
        <meting-js id="3778678" lrcshow="false" server="netease" type="playlist" fixed="true" autoplay="false" loop="all" order="random" preload="auto" volume="0.67" mutex="true"></meting-js>
    
    
    <div class="wrap-right">
        <div class="setting">
            <div class="iconbox favorites" switch="false">
                <span class="iconfont icon-favorites"></span>
                <span class="icontext">关注</span>
            </div>
            <div class="iconbox mode">
                <div class="light">
                    <span class="iconfont icon-daymode"></span>
                    <span class="icontext">浅色模式</span>
                </div>
                <div class="dark">
                    <span class="iconfont icon-nightmode-fill"></span>
                    <span class="icontext">深色模式</span>
                </div>
            </div>
            <a href="javascript:;" target="_self" class="search">
                <div class="iconbox">
                    <span class="iconfont icon-search-menu"></span>
                    <span class="icontext">搜索</span>
                </div>
            </a>
            <div class="iconbox bottom">
                <div style="display: inline-block; transform: rotate(180deg);">
                    <span class="iconfont icon-top"></span>
                </div>
                <span class="icontext">跳至底部</span>
            </div>
        </div>
        <div class="iconbox set">
            <div style="display: inline-block;">
                <span class="iconfont icon-setting"></span>
            </div>
            <span class="icontext">设置</span>
        </div>
        <div class="iconbox top">
            <span class="iconfont icon-top"></span>
            <span class="icontext">返回顶部</span>
        </div>
    </div>
    <div class="loading"></div>
</div>
    <script>
    window.config = {
        GitHubUserName     : "exclison",
        GitHubRepositories : "Hexo-LiveForCode",

        User             : "EXCLISON",
        UserAvatar       : "/image/sidebar/avatar.jpg",
        WebsiteStartDate : "2022-11-16",

        WebsiteTitleBlur         : "EXCLISONBLOG",
        WebsiteTitleBlurTimeOut  : 500,
        WebsiteTitleFocus        : "EXCLISONBLOG",
        WebsiteTitleFocusTimeOut : 1000,
        WebsiteFavicon           : "/image/website/logo.png",

        ProgressBar : {
            id       : "topProgressBar",
            color    : "#77B6FF",
            height   : "2px",
            duration : 0.2
        },

        Loading: {
            rebound : {
                tension  : 16,
                friction : 5
            },
            spinner : {
                id     : "spinner",
                radius : 90,
                sides  : 3,
                depth  : 4,
                colors : {
                    background : "#F0F0F0",
                    stroke     : "#272633",
                    base       : "",
                    child      : "#272633"
                },
                alwaysForward : true,
                restAt        : 0.5,
                renderBase    : false
            }
        },

        HomeHeaderAnimationRendered : true,
        HomeHeaderAnimation         : {
            radius      : 15,
            density     : 0.2,
            color       : "rgba(255, 255, 255, .2)",
            clearOffset : 0.3
        },

        BackAnimationRendered          : true,
        IEBrowserBackAnimationRendered : false,
        BackAnimation                  : {
            colorSaturation  : "60%",
            colorBrightness  : "50%",
            colorAlpha       : 0.5,
            colorCycleSpeed  : 5,
            verticalPosition : "random",
            horizontalSpeed  : 200,
            ribbonCount      : 3,
            strokeSize       : 0,
            parallaxAmount   : -0.2,
            animateSections  : true
        },

        HomeHeaderImage : [
            
                "/image/header/home.jpg",
            
                "/image/header/home.jpeg",
            
        ],
        HomeBannerText  : "",

        ArticleHeaderImage : [
            
                "/image/header/article.jpg",
            
        ],

        OtherBannerText : "",

        Error : {
            icon    : "icon-swimming",
            title   : "PAGE NOT FOUND",
            content : [
                
                    "很抱歉，您访问的页面不存在！",
                
                    "可能是输入地址有误或该地址已变更。",
                
            ],
            buttons : [
                
                    {
                        icon  : "icon-home",
                        text  : "返回首页",
                        href  : "/",
                        class : ""
                    },
                
            ]
        },

        MenuNotice : {
            enable : true,
            notice : "简单地活着，肆意而又精彩！",
            speed  : 20
        },
        MenuList : [
            
                {
                    name   : "首页",
                    icon   : "icon-home-fill",
                    href   : "/",
                    type   : "index",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "分类",
                    icon   : "icon-folder-fill",
                    href   : "/category",
                    type   : "category",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "标签",
                    icon   : "icon-discount-fill",
                    href   : "/tag",
                    type   : "tag",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "归档",
                    icon   : "icon-calendar-fill",
                    href   : "/archive",
                    type   : "archive",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "关于",
                    icon   : "icon-about-fill",
                    href   : "/about",
                    type   : "about",
                    class  : "",
                    target : "_self"
                },
            
                {
                    name   : "友情链接",
                    icon   : "icon-link",
                    href   : "/friend",
                    type   : "friend",
                    class  : "",
                    target : "_self"
                },
            
        ],
        MenuLink : [
            
                
                    {
                        name   : "GitHub",
                        icon   : "icon-github",
                        href   : "https://github.com/exclison",
                        class  : "",
                        target : "_blank",
                        image  : ""
                    },
                
            
        ],

        FooterStyle : 2,
        BottomText  : "<div><span class='face'>ღゝ◡╹)ノ♡</span></div><div>【人生若只如初见<span><i class='iconfont icon-like-fill'></i></span>何事秋风悲画扇】</div><div>&copy; 2020-2022 WorstOne. All Rights Reserved.</div>",

        ConsoleList : [
            
                
                    [
                        
                            
                                "Based on cnblogs theme SimpleMemory.",
                            
                                "",
                            
                        
                    ],
                
                    [
                        
                            
                                "SimpleMemory Author:",
                            
                                "BNDong",
                            
                        
                    ],
                
                    [
                        
                            
                                "Theme:",
                            
                                "LiveForCode",
                            
                        
                    ],
                
            
        ],

        FontIconExtend : "",

        Donate : {
            paypal  : "",
            bitcoin : "",
            alipay  : "/image/donate/alipay.png",
            wechat  : "/image/donate/wechat.png"
        },

        Search : {
            applicationID : "010C3EANT8",
            apiKey        : "c7abab9f11b79102b9aff7fe6d41447d",
            indexName     : "Notes",
            hits          : {
                page : 10
            },
            labels        : {
                placeholder : "搜索",
                empty       : "未发现与 「${query}」 相关的内容",
                stats       : "${hits} 条相关条目，使用了 ${time} 毫秒",
            }
        }, 

        Valine : {
            switch         : true,
            el             : ".comments-content",
            appId          : "srhKtvWPQTWYKh3qX8G8M7v0-gzGzoHsz",
            appKey         : "8uVSP1q6UlALVC5igYfIfv2h",
            serverURLs     : "",
            placeholder    : "你是我一生只会遇见一次的惊喜...",
            avatar         : "mm",
            meta           : "nick,mail,link",
            requiredFields : "nick,mail",
            pageSize       : 5,
            lang           : "zh-cn",
            visitor        : false,
            enableQQ       : true
        },

        Tocbot : {
            switch                : true,
            tocSelector           : ".toc",
            contentSelector       : ".article-body",
            headingSelector       : "h1, h2, h3, h4, h5",
            headingsOffset        : 0,
            scrollSmooth          : true,
            scrollSmoothOffset    : -5,
            positionFixedSelector : ".toc",
            positionFixedClass    : "toc-fixed",
            fixedSidebarOffset    : "",
        },

        Require : {
            baseUrl     : "/js/",
            waitSeconds : 100
        },

        Music : {
            type : "Meting"
        },
        APlayer : {
            container : ".aplayer",
            fixed     : true,
            autoplay  : false,
            loop      : "all",
            order     : "random",
            preload   : "auto",
            volume    : 0.67,
            mutex     : true,
            lrcType   : 3,
            audio     : [
                
                    {
                        name   : "Endless Tears",
                        artist : "CLIFF EDGE",
                        cover  : "/music/cover/Endless Tears.jpg",
                        url    : "/music/song/Endless Tears.mp3",
                        lrc    : "/music/lrc/Endless Tears.lrc"
                    },
                
            ]
        },
        Meting : {
            id       : "3778678", 
            lrcshow  : false, 
            server   : "netease", 
            type     : "playlist", 
            fixed    : true, 
            autoplay : false, 
            loop     : "all", 
            order    : "random", 
            preload  : "auto", 
            volume   : 0.67, 
            mutex    : true
        },

        Mouse : {
            enable  : true,
            options : {
                size  : 6,
                sizeF : 24
            }
        },

        LazyLoad : {
            default : "/image/website/lazyload.svg"
        },
  
        Style : {
            aplayer          : "/css/APlayer.css",
            archive          : "/css/archive.css",
            base             : "/css/base.css",
            clipboard        : "/css/clipboard.css",
            code             : "/css/code.css",
            donate           : "/css/donate.css",
            fancybox         : "/css/jquery.fancybox.css",
            footer           : "/css/footer.css",
            iconfont         : "/iconfont/iconfont.css",
            index            : "/css/index.css",
            menuBubble       : "/css/menu-bubble.css",
            mouse            : "/css/mouse.css",
            page             : "/css/page.css",
            post             : "/css/post.css",
            search           : "/css/search.css",
            tocbot           : "/css/tocbot.css",
            valine           : "/css/valine.css"
        },

        Script: {
            aplayer          : "/js/APlayer.min.js",
            config           : "/js/require.config.js",
            index            : "/js/index.js",
            instantSearch    : "/js/instantsearch.min.js",
            iscroll          : "/js/iscroll.js",
            jQuery           : "/js/jquery-3.4.1.min.js",
            loading          : "/js/loading.js",
            meting           : "/js/Meting.min.js",
            require          : "/js/require.min.js"
        },

        Font: {
            LongCang    : "/font/LongCang.css",
            Monda       : "/font/Monda.css",
            NotoSansSC  : "/font/NotoSansSC.css",
            NotoSerifSC : "/font/NotoSerifSC.css",
            Playball    : "/font/Playball.css",
            PTMono      : "/font/PTMono.css",
            Roboto      : "/font/Roboto.css",
            RobotoSlab  : "/font/RobotoSlab.css",
            Rosario     : "/font/Rosario.css",
            UbuntuMono  : "/font/UbuntuMono.css"
        },

        Suffix : {
            about : "简单地活着, 肆意又精彩."
        },
            
        Theme : {
            url  : "https://github.com/first19326/Hexo-LiveForCode",
            name : "Hexo - Live For Code"
        }  
    };
</script>
    <script type="text/javascript" src="/js/index.js"></script>
</body>
</html>